package client_model;

import java.awt.print.PrinterAbortException;
import java.io.*;
import java.net.Socket;
import javax.swing.*;
import qq_common.message;

//连接服务器进行用户名和密码的认证
public class client_serve {

	public static void main(String[] args) {
		// TODO Auto-generated method stub

	}
	public client_serve(String usr,String passwd)
	{
		try {
	      Socket so =new Socket("127.0.0.1",998);
	      //发送用户名和密码
	      PrintWriter  pi=new PrintWriter(so.getOutputStream(), true);
	      ObjectOutputStream ob=new ObjectOutputStream(so.getOutputStream());
	      message m =new message();
	      m.setUsr(usr);
	      m.setPasswd(passwd);
	      ob.writeObject(m);
	      //接收验证消息
	      ObjectInputStream obi=new ObjectInputStream(so.getInputStream());
          message me=(message)obi.readObject();
	      if(!me.isFa())
	      {
	    	  JOptionPane.showMessageDialog(null, "alert", "alert", JOptionPane.ERROR_MESSAGE); 
	      }
		} catch (Exception e) {
			// TODO: handle exception
		}
	}
}
